\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER}{}\section{software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R Class Reference}
\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER}\index{software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R@{software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a37e9900528182c74474b79a532b9135d}{\+\_\+\+\_\+init\+\_\+\+\_\+}
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}{wait\+Echo} (self, data)
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_acdc60f26527404f2cab0a7df2c6fda64}{send\+A\+P\+D\+U}
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ab08bebdffcacb12c7a426f2575688cd4}{con}
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a1e8dfcbf46f9b735e35c0aa2089a3e11}{flush} (self)
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}{reset} (self)
\item 
def \hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a3d64ef6f90ff3987a100897b5e4f9507}{get\+A\+T\+R} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aa5cdb654f42acac66b5a62299077a963}{ser}
\item 
\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}{cwe}
\item 
\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}{atr}
\end{DoxyCompactItemize}


Inheritance diagram for software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{d6/d96/classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser0eb6ef11ea67e6f95c286245e291ad32}
\end{center}
\end{figure}


Collaboration diagram for software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{d8/d49/classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser634a14555ccd96a50c3d7ba2593281fc}
\end{center}
\end{figure}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a37e9900528182c74474b79a532b9135d}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{\+\_\+\+\_\+init\+\_\+\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{parent\+Param = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a37e9900528182c74474b79a532b9135d}

\begin{DoxyCode}
34     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a37e9900528182c74474b79a532b9135d}{\_\_init\_\_}(self, parentParam=None):
35         ReaderTemplate.\_\_init\_\_(self, parentParam)
36 
37         self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aa5cdb654f42acac66b5a62299077a963}{ser} = SimpleSerial\_ChipWhisperer(self)
38         self.setupActiveParams([\textcolor{keyword}{lambda}: self.lazy(self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aa5cdb654f42acac66b5a62299077a963}{ser})])
39 
40         self.params.addChildren([
41             \{\textcolor{stringliteral}{'name'}:\textcolor{stringliteral}{'Reset Pin'}, \textcolor{stringliteral}{'type'}:\textcolor{stringliteral}{'list'}, \textcolor{stringliteral}{'values'}:[\textcolor{stringliteral}{'GPIO1'}]\},
42             \{\textcolor{stringliteral}{'name'}:\textcolor{stringliteral}{'Get ATR (Reset Card)'}, \textcolor{stringliteral}{'type'}:\textcolor{stringliteral}{'action'}, \textcolor{stringliteral}{'action'}:self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}{reset}\},
43             \{\textcolor{stringliteral}{'name'}:\textcolor{stringliteral}{'ATR'}, \textcolor{stringliteral}{'key'}:\textcolor{stringliteral}{'atr'}, \textcolor{stringliteral}{'type'}:\textcolor{stringliteral}{'str'}\}
44         ])
45 
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ab08bebdffcacb12c7a426f2575688cd4}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!con@{con}}
\index{con@{con}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{con}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+con (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{scope = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ab08bebdffcacb12c7a426f2575688cd4}


Referenced by software.\+chipwhisperer.\+common.\+traces.\+Trace\+Container\+My\+S\+Q\+L.\+Trace\+Container\+My\+S\+Q\+L.\+list\+All\+Tables(), software.\+chipwhisperer.\+common.\+traces.\+Trace\+Container\+My\+S\+Q\+L.\+Trace\+Container\+My\+S\+Q\+L.\+prepare\+Disk(), and software.\+chipwhisperer.\+common.\+traces.\+Trace\+Container\+My\+S\+Q\+L.\+Trace\+Container\+My\+S\+Q\+L.\+update\+Config\+Data().


\begin{DoxyCode}
129     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ab08bebdffcacb12c7a426f2575688cd4}{con}(self, scope = None):
130         self.ser.con(scope)
131 
132         \textcolor{comment}{#Set defaults}
133         self.ser.findParam(\textcolor{stringliteral}{'parity'}).setValue(\textcolor{stringliteral}{'e'})
134 
135         \textcolor{comment}{#NB: This should be '2' I thought, but the turn-around time on the SASEBO-W card is too fast, so}
136         \textcolor{comment}{#    this needs to be reduced to '1' to avoid a collision.}
137         self.ser.findParam(\textcolor{stringliteral}{'stopbits'}).setValue(1)
138 
139         self.ser.findParam(\textcolor{stringliteral}{'rxbaud'}).setValue(9600)
140         self.ser.findParam(\textcolor{stringliteral}{'txbaud'}).setValue(9600)
141 
142         \textcolor{comment}{#Setup GPIO Pins}
143         \textcolor{keywordflow}{if} hasattr(scope, \textcolor{stringliteral}{'advancedSettings'}) \textcolor{keywordflow}{and} scope.advancedSettings:
144             self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}{cwe} = scope.advancedSettings
145             self.cwe.findParam(\textcolor{stringliteral}{'gpio1mode'}).setValue(self.cwe.cwEXTRA.IOROUTE\_GPIOE)
146             self.cwe.findParam(\textcolor{stringliteral}{'gpio2mode'}).setValue(self.cwe.cwEXTRA.IOROUTE\_HIGHZ)
147             self.cwe.findParam(\textcolor{stringliteral}{'gpio3mode'}).setValue(self.cwe.cwEXTRA.IOROUTE\_STXRX)
148             self.cwe.findParam(\textcolor{stringliteral}{'gpiostate1'}).setValue(\textcolor{keyword}{True})
149         \textcolor{keywordflow}{else}:
150             self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}{cwe} = \textcolor{keywordtype}{None}
151 
152         self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}{reset}()
153 
\end{DoxyCode}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a1e8dfcbf46f9b735e35c0aa2089a3e11}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!flush@{flush}}
\index{flush@{flush}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{flush}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+flush (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a1e8dfcbf46f9b735e35c0aa2089a3e11}
\begin{DoxyVerb}Discard all input buffers\end{DoxyVerb}
 

Referenced by software.\+chipwhisperer.\+hardware.\+naeusb.\+bootloader\+\_\+sam3u.\+Samba.\+flush(), and software.\+chipwhisperer.\+hardware.\+naeusb.\+bootloader\+\_\+sam3u.\+Samba.\+go().


\begin{DoxyCode}
154     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a1e8dfcbf46f9b735e35c0aa2089a3e11}{flush}(self):
155         \textcolor{stringliteral}{"""Discard all input buffers"""}
156         self.ser.flush()
157 
\end{DoxyCode}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a3d64ef6f90ff3987a100897b5e4f9507}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!get\+A\+T\+R@{get\+A\+T\+R}}
\index{get\+A\+T\+R@{get\+A\+T\+R}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{get\+A\+T\+R}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+get\+A\+T\+R (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a3d64ef6f90ff3987a100897b5e4f9507}
\begin{DoxyVerb}Get the ATR from the SmartCard. Reads a saved value, user reset() to actually reset card.\end{DoxyVerb}
 

References software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+atr.


\begin{DoxyCode}
187     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a3d64ef6f90ff3987a100897b5e4f9507}{getATR}(self):
188         \textcolor{stringliteral}{"""Get the ATR from the SmartCard. Reads a saved value, user reset() to actually reset card."""}
189         \textcolor{keywordflow}{return} self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}{atr}
190 \end{DoxyCode}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!reset@{reset}}
\index{reset@{reset}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+reset (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}
\begin{DoxyVerb}Reset card & save the ATR\end{DoxyVerb}
 

Referenced by software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+system\+\_\+ser.\+Reader\+System\+S\+E\+R.\+con().


\begin{DoxyCode}
158     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_ac59b531b187c8dc232e933b31099ecb8}{reset}(self):
159         \textcolor{stringliteral}{"""Reset card & save the ATR"""}
160 
161         self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}{atr} = [0]
162         self.ser.findParam(\textcolor{stringliteral}{'atr'}).setValue(\textcolor{stringliteral}{"--atr not read--"})
163 
164         \textcolor{keywordflow}{if} self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}{cwe} \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
165             \textcolor{keywordflow}{return}
166 
167         \textcolor{comment}{#Toggle GPIO1}
168         self.cwe.cwEXTRA.setGPIOState(\textcolor{keyword}{False}, 0)
169         \textcolor{comment}{#Flush serial port}
170         self.ser.flush()
171         time.sleep(0.01)
172         self.cwe.cwEXTRA.setGPIOState(\textcolor{keyword}{True}, 0)
173 
174         \textcolor{comment}{#Read ATR}
175         atr = []
176         rxdata = [0,0,0]
177         \textcolor{keywordflow}{while} len(rxdata) > 0:
178             rxdata = self.ser.read(1, 200)
179             atr.extend(rxdata)
180 
181         self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}{atr} = [ord(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} atr]
182 
183         stratr = \textcolor{stringliteral}{" "}.join([\textcolor{stringliteral}{"%02x"}%ord(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} atr])
184         \textcolor{keywordflow}{print} \textcolor{stringliteral}{"ATR: %s"}%stratr
185         self.ser.findParam(\textcolor{stringliteral}{'atr'}).setValue(stratr)
186 
\end{DoxyCode}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_acdc60f26527404f2cab0a7df2c6fda64}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!send\+A\+P\+D\+U@{send\+A\+P\+D\+U}}
\index{send\+A\+P\+D\+U@{send\+A\+P\+D\+U}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{send\+A\+P\+D\+U}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+send\+A\+P\+D\+U (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{cla, }
\item[{}]{ins, }
\item[{}]{p1, }
\item[{}]{p2, }
\item[{}]{txdata = {\ttfamily None}, }
\item[{}]{rxdatalen = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_acdc60f26527404f2cab0a7df2c6fda64}
\begin{DoxyVerb}Send APDU to SmartCard, get Response\end{DoxyVerb}
 

References software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+wait\+Echo().


\begin{DoxyCode}
60     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_acdc60f26527404f2cab0a7df2c6fda64}{sendAPDU}(self, cla, ins, p1, p2, txdata=None, rxdatalen=0):
61         \textcolor{stringliteral}{"""Send APDU to SmartCard, get Response"""}
62 
63         \textcolor{comment}{#SmartCard header}
64         data = [cla,ins, p1, p2]
65 
66         \textcolor{comment}{#Flush input}
67         self.ser.flush()
68 
69         \textcolor{keywordflow}{if} txdata \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
70             txdatalen = len(txdata)
71             data.append(txdatalen)
72         \textcolor{keywordflow}{else}:
73             txdatalen = 0
74             data.append(rxdatalen)
75 
76         \textcolor{comment}{#Send data}
77         self.ser.write(data)
78         self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}{waitEcho}(data)
79 
80         \textcolor{comment}{#Wait for ACK - don't fail yet as some scards}
81         \textcolor{comment}{#don't send ACK properly it seems (mainly DPA Contest v4)}
82         ack = self.ser.read(1)
83 
84         \textcolor{comment}{#Send payload}
85         \textcolor{keywordflow}{if} txdata \textcolor{keywordflow}{and} len(txdata) > 0:
86             self.ser.write(txdata)
87             self.\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}{waitEcho}(txdata)
88 
89         \textcolor{comment}{#Send length request if we had data}
90         \textcolor{keywordflow}{if} txdatalen > 0 \textcolor{keywordflow}{and} rxdatalen > 0:
91             self.ser.write([rxdatalen])
92             self.ser.read(1)
93 
94         \textcolor{comment}{#Read Payload data}
95         rxdata = []
96         \textcolor{keywordflow}{while} len(rxdata) < rxdatalen:
97             char = self.ser.read(1)
98             \textcolor{keywordflow}{if} len(char) == 0:
99                 \textcolor{keywordflow}{break}
100             rxdata.extend(char)
101 
102         \textcolor{comment}{#Convert}
103         rxdata = [ord(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} rxdata]
104 
105         \textcolor{comment}{#Read two bytes of status}
106         stat = self.ser.read(2)
107 
108         \textcolor{comment}{# Uncomment to print data stream on RX pin}
109         \textcolor{comment}{#print "APDU: ",}
110         \textcolor{comment}{#for t in rxdata: print "%02x " % t,}
111         \textcolor{comment}{#print ""}
112 
113         \textcolor{keywordflow}{if} len(ack) < 1:
114             \textcolor{keywordflow}{print} \textcolor{stringliteral}{"ACK Error: not received?"}
115         \textcolor{keywordflow}{elif} ord(ack[0]) != ins:
116             \textcolor{keywordflow}{print} \textcolor{stringliteral}{"ACK Error: %x != %x"}%(ins, ord(ack[0]))
117 
118         \textcolor{keywordflow}{if} len(stat) < 2:
119             \textcolor{keywordflow}{raise} IOError(\textcolor{stringliteral}{"Status too small: %d, %s"} % (len(stat), \textcolor{stringliteral}{" "}.join([\textcolor{stringliteral}{"%02x"}%ord(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} stat]))
      )
120 
121         status = (ord(stat[0]) << 8) | ord(stat[1])
122 
123         \textcolor{keywordflow}{if} rxdatalen > 0:
124             payload = rxdata
125             \textcolor{keywordflow}{return} (status, payload)
126 
127         \textcolor{keywordflow}{return} status
128 
\end{DoxyCode}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!wait\+Echo@{wait\+Echo}}
\index{wait\+Echo@{wait\+Echo}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{wait\+Echo}]{\setlength{\rightskip}{0pt plus 5cm}def software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+wait\+Echo (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{data}
\end{DoxyParamCaption}
)}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}


Referenced by software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+send\+A\+P\+D\+U().


\begin{DoxyCode}
46     \textcolor{keyword}{def }\hyperlink{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aeccccaf9a1c86be8c1cb8b732ad7286f}{waitEcho}(self, data):
47         rxdata = []
48         \textcolor{keywordflow}{while} len(rxdata) < len(data):
49             char = self.ser.read(1)
50             \textcolor{keywordflow}{if} len(char) == 0:
51                 \textcolor{keywordflow}{print} \textcolor{stringliteral}{"SCARD TIMEOUT: Failed to echo data?"}
52                 \textcolor{keywordflow}{print} \textcolor{stringliteral}{"  SENT: %s"}%\textcolor{stringliteral}{" "}.join([\textcolor{stringliteral}{"%02x"}%t \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} data])
53                 \textcolor{keywordflow}{print} \textcolor{stringliteral}{"  RECEIVED: %s"}%\textcolor{stringliteral}{" "}.join([\textcolor{stringliteral}{"%02x"}%ord(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} rxdata])
54                 \textcolor{keywordflow}{raise} IOError(\textcolor{stringliteral}{"SmartCard Line Stuck?"})
55             rxdata.extend(char)
56 
57         \textcolor{comment}{#print "  SENT: %s"%" ".join(["%02x"%t for t in data])}
58         \textcolor{comment}{#print "  RECEIVED: %s"%" ".join(["%02x"%ord(t) for t in rxdata])}
59 
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!atr@{atr}}
\index{atr@{atr}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{atr}]{\setlength{\rightskip}{0pt plus 5cm}software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+atr}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a6887d4f9073801e6366f8ec8603400df}


Referenced by software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhispererlite\+\_\+scard.\+Reader\+Chip\+Whisperer\+Lite\+S\+Card.\+get\+A\+T\+R(), software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+system\+\_\+ser.\+Reader\+System\+S\+E\+R.\+get\+A\+T\+R(), and software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+get\+A\+T\+R().

\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!cwe@{cwe}}
\index{cwe@{cwe}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{cwe}]{\setlength{\rightskip}{0pt plus 5cm}software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+cwe}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_a5dfe180325e6f917464786a4c1cb811f}
\hypertarget{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aa5cdb654f42acac66b5a62299077a963}{}\index{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}!ser@{ser}}
\index{ser@{ser}!software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R@{software\+::chipwhisperer\+::capture\+::targets\+::smartcard\+\_\+readers\+::chipwhisperer\+\_\+ser\+::\+Reader\+Chip\+Whisperer\+S\+E\+R}}
\subsubsection[{ser}]{\setlength{\rightskip}{0pt plus 5cm}software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+chipwhisperer\+\_\+ser.\+Reader\+Chip\+Whisperer\+S\+E\+R.\+ser}\label{classsoftware_1_1chipwhisperer_1_1capture_1_1targets_1_1smartcard__readers_1_1chipwhisperer__ser_1_1ReaderChipWhispererSER_aa5cdb654f42acac66b5a62299077a963}


Referenced by software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+system\+\_\+ser.\+Reader\+System\+S\+E\+R.\+close(), and software.\+chipwhisperer.\+capture.\+targets.\+smartcard\+\_\+readers.\+system\+\_\+ser.\+Reader\+System\+S\+E\+R.\+con().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{chipwhisperer__ser_8py}{chipwhisperer\+\_\+ser.\+py}\end{DoxyCompactItemize}
